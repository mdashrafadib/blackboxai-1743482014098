{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useState}from'react';import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import Platform from\"react-native-web/dist/exports/Platform\";import PdfProcessor from\"../../utils/PdfProcessor\";import Button from\"../shared/Button\";import FileInput from\"../shared/FileInput\";import ErrorMessage from\"../shared/ErrorMessage\";import Card from\"../shared/Card\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";var MergePDF=function MergePDF(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),selectedFiles=_useState2[0],setSelectedFiles=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isProcessing=_useState4[0],setIsProcessing=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var handleFileSelect=function(){var _ref=_asyncToGenerator(function*(event){if(Platform.OS==='web'){var files=Array.from(event.target.files);setSelectedFiles(function(prevFiles){return[].concat(_toConsumableArray(prevFiles),files);});setError(null);}});return function handleFileSelect(_x){return _ref.apply(this,arguments);};}();var handleRemoveFile=function handleRemoveFile(index){setSelectedFiles(function(files){return files.filter(function(_,i){return i!==index;});});};var handleMergePDFs=function(){var _ref2=_asyncToGenerator(function*(){if(selectedFiles.length<2){setError('Please select at least 2 PDF files');return;}setIsProcessing(true);setError(null);try{var mergedPdfBytes=yield PdfProcessor.mergePDFs(selectedFiles);yield PdfProcessor.saveToDevice(mergedPdfBytes,'merged.pdf');}catch(err){setError(err.message);}finally{setIsProcessing(false);}});return function handleMergePDFs(){return _ref2.apply(this,arguments);};}();return _jsxs(ScrollView,{style:{flex:1,backgroundColor:'#f7fafc'},contentContainerStyle:{padding:20},children:[_jsxs(View,{style:{marginBottom:24},children:[_jsx(Text,{style:{fontSize:24,fontWeight:'bold',color:'#2d3748',marginBottom:8},children:\"Merge PDF Files\"}),_jsx(Text,{style:{fontSize:16,color:'#718096',marginBottom:20},children:\"Combine multiple PDF files into a single document\"})]}),_jsx(FileInput,{onFileSelect:handleFileSelect,multiple:true,buttonText:\"Select PDF Files\",style:{marginBottom:20}}),selectedFiles.length>0&&_jsx(Card,{title:\"Selected Files\",subtitle:selectedFiles.length+\" file\"+(selectedFiles.length>1?'s':'')+\" selected\",children:selectedFiles.map(function(file,index){return _jsxs(View,{style:{flexDirection:'row',alignItems:'center',padding:10,backgroundColor:'#f8fafc',marginBottom:8,borderRadius:8,borderWidth:1,borderColor:'#e2e8f0'},children:[_jsxs(View,{style:{flex:1},children:[_jsx(Text,{style:{color:'#2d3748',fontWeight:'500'},children:file.name}),_jsx(Text,{style:{color:'#718096',fontSize:12},children:PdfProcessor.formatFileSize(file.size)})]}),_jsx(Button,{onPress:function onPress(){return handleRemoveFile(index);},variant:\"danger\",style:{marginLeft:8},textStyle:{fontSize:14},children:\"Remove\"})]},index);})}),_jsx(ErrorMessage,{message:error}),_jsx(Button,{onPress:handleMergePDFs,disabled:selectedFiles.length<2,loading:isProcessing,style:{marginBottom:24},children:isProcessing?'Merging PDFs...':'Merge PDFs'}),_jsx(Card.Info,{children:\"Your files are processed locally and never leave your device. All operations are performed in your browser for maximum privacy.\"})]});};export default MergePDF;","map":{"version":3,"names":["React","useState","View","Text","ScrollView","Platform","PdfProcessor","Button","FileInput","ErrorMessage","Card","jsx","_jsx","jsxs","_jsxs","MergePDF","_useState","_useState2","_slicedToArray","selectedFiles","setSelectedFiles","_useState3","_useState4","isProcessing","setIsProcessing","_useState5","_useState6","error","setError","handleFileSelect","_ref","_asyncToGenerator","event","OS","files","Array","from","target","prevFiles","concat","_toConsumableArray","_x","apply","arguments","handleRemoveFile","index","filter","_","i","handleMergePDFs","_ref2","length","mergedPdfBytes","mergePDFs","saveToDevice","err","message","style","flex","backgroundColor","contentContainerStyle","padding","children","marginBottom","fontSize","fontWeight","color","onFileSelect","multiple","buttonText","title","subtitle","map","file","flexDirection","alignItems","borderRadius","borderWidth","borderColor","name","formatFileSize","size","onPress","variant","marginLeft","textStyle","disabled","loading","Info"],"sources":["/project/sandbox/user-workspace/src/components/PDFTools/MergePDF.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { View, Text, ScrollView, Platform } from 'react-native';\nimport PdfProcessor from '../../utils/PdfProcessor';\nimport Button from '../shared/Button';\nimport FileInput from '../shared/FileInput';\nimport ErrorMessage from '../shared/ErrorMessage';\nimport Card from '../shared/Card';\n\nconst MergePDF = () => {\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [error, setError] = useState(null);\n\n  const handleFileSelect = async (event) => {\n    if (Platform.OS === 'web') {\n      const files = Array.from(event.target.files);\n      setSelectedFiles(prevFiles => [...prevFiles, ...files]);\n      setError(null);\n    }\n  };\n\n  const handleRemoveFile = (index) => {\n    setSelectedFiles(files => files.filter((_, i) => i !== index));\n  };\n\n  const handleMergePDFs = async () => {\n    if (selectedFiles.length < 2) {\n      setError('Please select at least 2 PDF files');\n      return;\n    }\n\n    setIsProcessing(true);\n    setError(null);\n\n    try {\n      const mergedPdfBytes = await PdfProcessor.mergePDFs(selectedFiles);\n      await PdfProcessor.saveToDevice(mergedPdfBytes, 'merged.pdf');\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  return (\n    <ScrollView \n      style={{ flex: 1, backgroundColor: '#f7fafc' }}\n      contentContainerStyle={{ padding: 20 }}\n    >\n      <View style={{ marginBottom: 24 }}>\n        <Text style={{ fontSize: 24, fontWeight: 'bold', color: '#2d3748', marginBottom: 8 }}>\n          Merge PDF Files\n        </Text>\n        <Text style={{ fontSize: 16, color: '#718096', marginBottom: 20 }}>\n          Combine multiple PDF files into a single document\n        </Text>\n      </View>\n\n      <FileInput\n        onFileSelect={handleFileSelect}\n        multiple={true}\n        buttonText=\"Select PDF Files\"\n        style={{ marginBottom: 20 }}\n      />\n\n      {selectedFiles.length > 0 && (\n        <Card\n          title=\"Selected Files\"\n          subtitle={`${selectedFiles.length} file${selectedFiles.length > 1 ? 's' : ''} selected`}\n        >\n          {selectedFiles.map((file, index) => (\n            <View\n              key={index}\n              style={{\n                flexDirection: 'row',\n                alignItems: 'center',\n                padding: 10,\n                backgroundColor: '#f8fafc',\n                marginBottom: 8,\n                borderRadius: 8,\n                borderWidth: 1,\n                borderColor: '#e2e8f0',\n              }}\n            >\n              <View style={{ flex: 1 }}>\n                <Text style={{ color: '#2d3748', fontWeight: '500' }}>{file.name}</Text>\n                <Text style={{ color: '#718096', fontSize: 12 }}>\n                  {PdfProcessor.formatFileSize(file.size)}\n                </Text>\n              </View>\n              <Button\n                onPress={() => handleRemoveFile(index)}\n                variant=\"danger\"\n                style={{ marginLeft: 8 }}\n                textStyle={{ fontSize: 14 }}\n              >\n                Remove\n              </Button>\n            </View>\n          ))}\n        </Card>\n      )}\n\n      <ErrorMessage message={error} />\n\n      <Button\n        onPress={handleMergePDFs}\n        disabled={selectedFiles.length < 2}\n        loading={isProcessing}\n        style={{ marginBottom: 24 }}\n      >\n        {isProcessing ? 'Merging PDFs...' : 'Merge PDFs'}\n      </Button>\n\n      <Card.Info>\n        Your files are processed locally and never leave your device.\n        All operations are performed in your browser for maximum privacy.\n      </Card.Info>\n    </ScrollView>\n  );\n};\n\nexport default MergePDF;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}