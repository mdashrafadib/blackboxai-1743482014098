{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useState}from'react';import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import TextInput from\"react-native-web/dist/exports/TextInput\";import PdfProcessor from\"../../utils/PdfProcessor\";import Button from\"../shared/Button\";import FileInput from\"../shared/FileInput\";import ErrorMessage from\"../shared/ErrorMessage\";import Card from\"../shared/Card\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";var SplitPDF=function SplitPDF(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),selectedFile=_useState2[0],setSelectedFile=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),pageRanges=_useState4[0],setPageRanges=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isProcessing=_useState6[0],setIsProcessing=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),totalPages=_useState10[0],setTotalPages=_useState10[1];var handleFileSelect=function(){var _ref=_asyncToGenerator(function*(event){if(Platform.OS==='web'){var file=event.target.files[0];if(file){try{var pdf=yield PdfProcessor.loadPDF(file);setTotalPages(pdf.getPageCount());setSelectedFile(file);setError(null);}catch(err){setError(err.message);}}}});return function handleFileSelect(_x){return _ref.apply(this,arguments);};}();var validatePageRanges=function validatePageRanges(ranges){if(!ranges.trim())return false;var rangeArray=ranges.split(',').map(function(range){return range.trim();});for(var range of rangeArray){if(!PdfProcessor.validatePageRange(range,totalPages)){return false;}}return true;};var handleSplitPDF=function(){var _ref2=_asyncToGenerator(function*(){if(!selectedFile){setError('Please select a PDF file');return;}if(!validatePageRanges(pageRanges)){setError(\"Please enter valid page ranges (e.g., \\\"1-3, 5, 7-9\\\"). Pages must be between 1 and \"+totalPages);return;}setIsProcessing(true);setError(null);try{var ranges=pageRanges.split(',').map(function(range){return range.trim();});var splitResults=yield PdfProcessor.splitPDF(selectedFile,ranges);for(var result of splitResults){yield PdfProcessor.saveToDevice(result.bytes,\"split_\"+result.range+\".pdf\");}}catch(err){setError(err.message);}finally{setIsProcessing(false);}});return function handleSplitPDF(){return _ref2.apply(this,arguments);};}();return _jsxs(ScrollView,{style:{flex:1,backgroundColor:'#f7fafc'},contentContainerStyle:{padding:20},children:[_jsxs(View,{style:{marginBottom:24},children:[_jsx(Text,{style:{fontSize:24,fontWeight:'bold',color:'#2d3748',marginBottom:8},children:\"Split PDF\"}),_jsx(Text,{style:{fontSize:16,color:'#718096',marginBottom:20},children:\"Extract specific pages from your PDF into new files\"})]}),_jsx(FileInput,{onFileSelect:handleFileSelect,buttonText:\"Select PDF File\",style:{marginBottom:20}}),selectedFile&&_jsxs(Card,{title:\"PDF Details\",children:[_jsx(Card.FileDetails,{fileName:selectedFile.name,fileSize:PdfProcessor.formatFileSize(selectedFile.size),additionalDetails:\"Total Pages: \"+totalPages,style:{marginBottom:16}}),_jsx(Text,{style:{fontSize:16,color:'#2d3748',marginBottom:8,fontWeight:'500'},children:\"Enter Page Ranges:\"}),_jsx(TextInput,{value:pageRanges,onChangeText:setPageRanges,placeholder:\"e.g., 1-3, 5, 7-9\",style:{borderWidth:1,borderColor:'#e2e8f0',borderRadius:8,padding:12,marginBottom:12,backgroundColor:'#f8fafc',color:'#2d3748'}}),_jsx(Card.BulletPoint,{children:\"Use commas to separate different ranges\"}),_jsx(Card.BulletPoint,{children:\"Use hyphens for page ranges (e.g., 1-3)\"}),_jsx(Card.BulletPoint,{children:\"Single pages are also valid (e.g., 5)\"})]}),_jsx(ErrorMessage,{message:error}),_jsx(Button,{onPress:handleSplitPDF,disabled:!selectedFile||!pageRanges,loading:isProcessing,style:{marginBottom:24},children:isProcessing?'Splitting PDF...':'Split PDF'}),_jsx(Card.Info,{children:\"Your files are processed locally and never leave your device. All operations are performed in your browser for maximum privacy.\"})]});};export default SplitPDF;","map":{"version":3,"names":["React","useState","View","Text","ScrollView","TextInput","PdfProcessor","Button","FileInput","ErrorMessage","Card","jsx","_jsx","jsxs","_jsxs","SplitPDF","_useState","_useState2","_slicedToArray","selectedFile","setSelectedFile","_useState3","_useState4","pageRanges","setPageRanges","_useState5","_useState6","isProcessing","setIsProcessing","_useState7","_useState8","error","setError","_useState9","_useState10","totalPages","setTotalPages","handleFileSelect","_ref","_asyncToGenerator","event","Platform","OS","file","target","files","pdf","loadPDF","getPageCount","err","message","_x","apply","arguments","validatePageRanges","ranges","trim","rangeArray","split","map","range","validatePageRange","handleSplitPDF","_ref2","splitResults","splitPDF","result","saveToDevice","bytes","style","flex","backgroundColor","contentContainerStyle","padding","children","marginBottom","fontSize","fontWeight","color","onFileSelect","buttonText","title","FileDetails","fileName","name","fileSize","formatFileSize","size","additionalDetails","value","onChangeText","placeholder","borderWidth","borderColor","borderRadius","BulletPoint","onPress","disabled","loading","Info"],"sources":["/project/sandbox/user-workspace/src/components/PDFTools/SplitPDF.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { View, Text, ScrollView, TextInput } from 'react-native';\nimport PdfProcessor from '../../utils/PdfProcessor';\nimport Button from '../shared/Button';\nimport FileInput from '../shared/FileInput';\nimport ErrorMessage from '../shared/ErrorMessage';\nimport Card from '../shared/Card';\n\nconst SplitPDF = () => {\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [pageRanges, setPageRanges] = useState('');\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [error, setError] = useState(null);\n  const [totalPages, setTotalPages] = useState(0);\n\n  const handleFileSelect = async (event) => {\n    if (Platform.OS === 'web') {\n      const file = event.target.files[0];\n      if (file) {\n        try {\n          const pdf = await PdfProcessor.loadPDF(file);\n          setTotalPages(pdf.getPageCount());\n          setSelectedFile(file);\n          setError(null);\n        } catch (err) {\n          setError(err.message);\n        }\n      }\n    }\n  };\n\n  const validatePageRanges = (ranges) => {\n    if (!ranges.trim()) return false;\n    \n    const rangeArray = ranges.split(',').map(range => range.trim());\n    for (const range of rangeArray) {\n      if (!PdfProcessor.validatePageRange(range, totalPages)) {\n        return false;\n      }\n    }\n    \n    return true;\n  };\n\n  const handleSplitPDF = async () => {\n    if (!selectedFile) {\n      setError('Please select a PDF file');\n      return;\n    }\n\n    if (!validatePageRanges(pageRanges)) {\n      setError(`Please enter valid page ranges (e.g., \"1-3, 5, 7-9\"). Pages must be between 1 and ${totalPages}`);\n      return;\n    }\n\n    setIsProcessing(true);\n    setError(null);\n\n    try {\n      const ranges = pageRanges.split(',').map(range => range.trim());\n      const splitResults = await PdfProcessor.splitPDF(selectedFile, ranges);\n      \n      for (const result of splitResults) {\n        await PdfProcessor.saveToDevice(result.bytes, `split_${result.range}.pdf`);\n      }\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  return (\n    <ScrollView \n      style={{ flex: 1, backgroundColor: '#f7fafc' }}\n      contentContainerStyle={{ padding: 20 }}\n    >\n      <View style={{ marginBottom: 24 }}>\n        <Text style={{ fontSize: 24, fontWeight: 'bold', color: '#2d3748', marginBottom: 8 }}>\n          Split PDF\n        </Text>\n        <Text style={{ fontSize: 16, color: '#718096', marginBottom: 20 }}>\n          Extract specific pages from your PDF into new files\n        </Text>\n      </View>\n\n      <FileInput\n        onFileSelect={handleFileSelect}\n        buttonText=\"Select PDF File\"\n        style={{ marginBottom: 20 }}\n      />\n\n      {selectedFile && (\n        <Card\n          title=\"PDF Details\"\n        >\n          <Card.FileDetails\n            fileName={selectedFile.name}\n            fileSize={PdfProcessor.formatFileSize(selectedFile.size)}\n            additionalDetails={`Total Pages: ${totalPages}`}\n            style={{ marginBottom: 16 }}\n          />\n\n          <Text style={{ fontSize: 16, color: '#2d3748', marginBottom: 8, fontWeight: '500' }}>\n            Enter Page Ranges:\n          </Text>\n          <TextInput\n            value={pageRanges}\n            onChangeText={setPageRanges}\n            placeholder=\"e.g., 1-3, 5, 7-9\"\n            style={{\n              borderWidth: 1,\n              borderColor: '#e2e8f0',\n              borderRadius: 8,\n              padding: 12,\n              marginBottom: 12,\n              backgroundColor: '#f8fafc',\n              color: '#2d3748',\n            }}\n          />\n          \n          <Card.BulletPoint>\n            Use commas to separate different ranges\n          </Card.BulletPoint>\n          <Card.BulletPoint>\n            Use hyphens for page ranges (e.g., 1-3)\n          </Card.BulletPoint>\n          <Card.BulletPoint>\n            Single pages are also valid (e.g., 5)\n          </Card.BulletPoint>\n        </Card>\n      )}\n\n      <ErrorMessage message={error} />\n\n      <Button\n        onPress={handleSplitPDF}\n        disabled={!selectedFile || !pageRanges}\n        loading={isProcessing}\n        style={{ marginBottom: 24 }}\n      >\n        {isProcessing ? 'Splitting PDF...' : 'Split PDF'}\n      </Button>\n\n      <Card.Info>\n        Your files are processed locally and never leave your device.\n        All operations are performed in your browser for maximum privacy.\n      </Card.Info>\n    </ScrollView>\n  );\n};\n\nexport default SplitPDF;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}